<?php//サーバーに連続 include'connect.php';    session_start();    $email=$_SESSION['email'];   // var_dump($email);    //    $sql="SELECT id from users WHERE email='$email'";    $sth=$dbh->prepare($sql);    $sth->execute();    $result=$sth->fetchAll();    foreach($result as $row){         $id=$row['id'];    }          $followid=htmlspecialchars($_POST["followid"]);    //follow完了かを確認    $isfollow=0;    $sql="SELECT follow from user_follow WHERE id='$id'";    $sth=$dbh->prepare($sql);    $sth->execute();    $result=$sth->fetchAll();    foreach($result as $row){        if($followid === $row['follow'])            $isfollow=1;    }                       if( $isfollow === 0){    //ユーザー存在かを確認する    $istrue=0;    $sql="SELECT id from users";    $sth=$dbh->prepare($sql);    $sth->execute();    $result=$sth->fetchAll();    var_dump($id);    var_dump($followid);    foreach($result as $row){        if($followid === $row['id'] && $id != $row['id'])            $istrue=1;    }        var_dump($istrue);    if($istrue===1){    //友たちのIdをfollowに入れる    try{        $dbh->beginTransaction();        $dbh->exec(                   "insert into user_follow                   (id,follow)                   value($id,$followid)"                   );        $dbh->commit();        header('Location:./tweet.php');    }catch(Exception $e){        $dbh->rollBack();        }   // header('Location:./twitter.html');    }else{        header('Location:./followError.php');    }    }else{        header('Location:./followError.php');    }?>